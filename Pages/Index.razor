@page "/"
@using System.Timers;

<h1>Hello, world!</h1>


<div><button @onclick="handleClick">Click me</button></div>

<div>- @testString -</div>


@code {
    string testString = "";
    System.Timers.Timer myTimer;

    private void handleClick()
    {
        testString = "Key pressed";

        myTimer = new Timer();

        myTimer.Interval = 1500;
        myTimer.Enabled = true;
        myTimer.Elapsed += myTickHandler;
        myTimer.Start();
    }

    private void myTickHandler(Object source, System.Timers.ElapsedEventArgs e)
    {
        testString = "Finished";
        InvokeAsync(() =>
        {
            StateHasChanged();
        });

    }

}